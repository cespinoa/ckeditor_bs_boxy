!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CKEditor5=e():(t.CKEditor5=t.CKEditor5||{},t.CKEditor5.bootstrapBoxy=e())}(self,(()=>(()=>{var t={"ckeditor5/src/core.js":(t,e,o)=>{t.exports=o("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(t,e,o)=>{t.exports=o("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/widget.js":(t,e,o)=>{t.exports=o("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":t=>{"use strict";t.exports=CKEditor5.dll}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,o),i.exports}o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};return(()=>{"use strict";o.d(r,{default:()=>u});var t=o("ckeditor5/src/core.js"),e=o("ckeditor5/src/widget.js");function n(t){return(0,e.isWidget)(t)&&!!t.getCustomProperty("bsBoxy")}function i(t){const e=t.getSelectedElement();if(e&&n(e))return e;if(null===t.getFirstPosition())return null;let{parent:o}=t.getFirstPosition();for(;o;){if(o.is("element")&&n(o))return o;o=o.parent}return null}class s extends t.Command{execute(t){const{model:e}=this.editor,o=function(t){const e=t.getSelectedElement();return(o=e)&&o.is("element","bsBoxy")?e:t.getFirstPosition().findAncestor("bsBoxy");var o}(e.document.selection);e.change((r=>{o?function(t,e,o){const r={class:"ckeditor-bsboxy clearfix container-fluid"+o.wrapperStyle};t.setAttributes(r,e);const n=e.getChild(0),i={class:"ckeditor-bsboxy-container "+o.containerClass+" "+o.containerStyle,"data-wrapper-style-id":o.wrapperStyleId,"data-container-class":o.containerClass,"data-container-style-id":o.containerStyleId};t.setAttributes(i,n)}(r,o,t):e.insertContent(function(t,e){const o={class:"ckeditor-bsboxy clearfix container-fluid"+(e.wrapperStyle||"")},r=t.createElement("bsBoxy",o),n={class:"ckeditor-bsboxy-container "+e.containerClass+" "+e.containerStyle,"data-wrapper-style-id":e.wrapperStyleId,"data-container-class":e.containerClass,"data-container-style-id":e.containerStyleId},i=t.createElement("bsBoxyContainer",n),s=t.createElement("bsBoxyContent",{class:"ckeditor-bsboxy-content"}),a=t.createElement("paragraph");return t.insertText("Content",a),t.append(a,s),t.append(s,i),t.append(i,r),r}(r,t))}))}refresh(){const{model:t}=this.editor,{selection:e}=t.document,o=t.schema.findAllowedParent(e.getFirstPosition(),"bsBoxy");this.isEnabled=null!==o}}class a extends t.Plugin{static get requires(){return[e.Widget]}static get pluginName(){return"BootstrapBoxyEditing"}constructor(t){super(t),this.attrs={class:"class","data-wrapper-style-id":"data-wrapper-style-id","data-container-class":"data-container-class","data-container-style-id":"data-container-style-id"}}init(){this.editor.config.get("bootstrapBoxy")&&(this._defineSchema(),this._defineConverters(),this._defineCommands())}_defineSchema(){const t=this.editor.model.schema;t.register("bsBoxy",{allowWhere:"$block",isLimit:!0,isObject:!0,allowAttributes:["class"]}),t.register("bsBoxyContainer",{isLimit:!0,allowIn:"bsBoxy",isBlock:!0,allowAttributes:Object.keys(this.attrs)}),t.register("bsBoxyContent",{allowIn:"bsBoxyContainer",isInline:!0,allowContentOf:"$root",allowAttributes:["class"]})}_defineConverters(){const{conversion:t}=this.editor;t.for("upcast").elementToElement({model:"bsBoxy",view:{name:"div",classes:"ckeditor-bsboxy"}}),t.for("downcast").elementToElement({model:"bsBoxy",view:(t,{writer:o})=>{const r=o.createContainerElement("div",{class:"ckeditor-bsboxy"});return o.setCustomProperty("bsBoxy",!0,r),(0,e.toWidget)(r,o,{label:"BS Boxy"})}}),t.for("upcast").elementToElement({view:{name:"div",classes:["ckeditor-bsboxy-container"]},converterPriority:"high",model:(t,{writer:e})=>e.createElement("bsBoxyContainer",{class:t.getAttribute("class")||"ckeditor-bsboxy-container"})}),t.for("downcast").elementToElement({model:"bsBoxyContainer",view:(t,{writer:o})=>{const r={class:t.getAttribute("class"),"data-wrapper-style-id":t.getAttribute("data-wrapper-style-id"),"data-container-class":t.getAttribute("data-container-class"),"data-container-style-id":t.getAttribute("data-container-style-id")},n=o.createContainerElement("div",r);return o.setCustomProperty("bsBoxyContainer",!0,n),(0,e.toWidget)(n,o,{label:"BS Boxy Container"})}}),t.for("upcast").elementToElement({model:"bsBoxyContent",view:{name:"div"}}),t.for("editingDowncast").elementToElement({model:"bsBoxyContent",view:(t,{writer:o})=>{const r=o.createEditableElement("div");return o.setCustomProperty("bsBoxyContent",!0,r),(0,e.toWidgetEditable)(r,o)}}),t.for("dataDowncast").elementToElement({model:"bsBoxyContent",view:{name:"div",classes:""}}),Object.keys(this.attrs).forEach((e=>{const o={model:{key:e,name:"bsGridRow"},view:{name:"div",key:this.attrs[e]}};t.for("downcast").attributeToAttribute(o),t.for("upcast").attributeToAttribute(o)})),t.attributeToAttribute({model:"class",view:"class"})}_defineCommands(){this.editor.commands.add("insertBootstrapBoxy",new s(this.editor))}}var l=o("ckeditor5/src/ui.js");class c extends t.Plugin{init(){const{editor:t}=this,e=t.config.get("bootstrapBoxy");if(!e)return;const{dialogURL:o,openDialog:r,dialogSettings:n={}}=e;o&&"function"==typeof r&&t.ui.componentFactory.add("bootstrapBoxy",(e=>{const i=t.commands.get("insertBootstrapBoxy"),s=new l.ButtonView(e);return s.set({label:t.t("Bootstrap Boxy"),icon:'<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --\x3e\r\n<svg fill="#000000" height="800px" width="800px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \r\n\t viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve">\r\n<path id="Box-open" d="M63.7588806,31.6450214l-7.0343971-8.2070007l7.0343971-8.2069998\r\n\tc0.1963005-0.2276001,0.2783051-0.5313005,0.2256012-0.8271999c-0.0527992-0.2959003-0.2364006-0.5517006-0.4990005-0.6971998\r\n\tl-22.7753983-12.6524c-0.3876991-0.2158-0.8720741-0.1494001-1.1894989,0.1640999l-6.9177017,6.8577003l-6.8547993-6.8548002\r\n\tc-0.3202991-0.3203-0.8164005-0.3857-1.2080002-0.1582L0.4990837,14.9810209\r\n\tc-0.2802,0.1620998-0.4648,0.4502001-0.4950767,0.7733994c-0.0293232,0.3232012,0.0995768,0.6397009,0.3456767,0.8506002\r\n\tl8.1463232,6.9822998l-7.0301232,9.3732014c-0.1738,0.2304001-0.2383,0.5252991-0.1777,0.8085976\r\n\tc0.0596,0.2821999,0.2392,0.5244026,0.4922,0.6650009l7.0041003,3.891201\r\n\tc-0.0300007,0.0951996-0.0598001,0.1912003-0.0598001,0.296299v9.2509995c0,1.2215996,0.6571999,2.3613014,1.7167997,2.9756012\r\n\tl20.3495979,11.7480011c0.547924,0.3153992,1.1612015,0.4735985,1.7754002,0.4735985\r\n\tc0.0060005,0,0.0117989-0.0010986,0.0177994-0.0010986c0.0055008,0,0.0100021,0.0030975,0.0153999,0.0030975\r\n\tc0.010601,0,0.0194016-0.0056992,0.0298996-0.0060997c0.5931015-0.010498,1.1842003-0.1648979,1.7133026-0.4694977\r\n\tl20.2871246-11.7129021c1.0966721-0.6348,1.7782745-1.8163986,1.7782745-3.0820007v-10.305397l7.1133003-4.3470001\r\n\tc0.25-0.1533012,0.4208984-0.4082031,0.4657974-0.6972008C64.0332794,32.1626205,63.9502831,31.8667202,63.7588806,31.6450214z\r\n\t M31.5996838,34.3737221L11.8424835,23.3972206l19.7572002-12.0739002V34.3737221z M33.5996819,11.2827206l19.8236008,12.1145\r\n\tL33.5996819,34.4107208V11.2827206z M40.3955841,3.1675208l21.0478973,11.6924l-6.2397003,7.280901L34.2020836,9.3067207\r\n\tL40.3955841,3.1675208z M24.8770828,3.1782207l6.1504993,6.1506004L9.9556837,22.2058201l-7.2339001-6.2003994L24.8770828,3.1782207\r\n\tz M10.1340837,24.735321l20.9680977,11.6492004L24.7607822,44.91362L3.7540069,33.2427216L10.1340837,24.735321z\r\n\t M11.4424839,49.1167221c-0.4424-0.2568016-0.7178001-0.7334023-0.7178001-1.2441025v-8.4692993l13.8310986,7.6841011\r\n\tc0.1533012,0.0849991,0.3193016,0.1259995,0.4843006,0.1259995c0.3077011,0,0.6093998-0.1416016,0.8038006-0.4033012\r\n\tl5.7558002-7.7420006v21.6858025L11.4424839,49.1167221z M54.4082832,47.8013191\r\n\tc0,0.5547028-0.2988014,1.0722008-0.7792778,1.3506012L33.5996819,60.7161217V39.0463219l5.8251991,7.7667007\r\n\tc0.1953011,0.2606964,0.4951248,0.4003983,0.8008003,0.4003983c0.1777,0,0.3584023-0.0479012,0.5205002-0.1464996\r\n\tl13.6621017-8.3488998V47.8013191z M40.4795837,44.886219l-6.3591003-8.4776001L55.180584,24.7081203l6.2960968,7.3461018\r\n\tL40.4795837,44.886219z"/>\r\n</svg>',tooltip:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",(()=>{r(o,(({settings:e})=>{t.execute("insertBootstrapBoxy",e)}),n)})),s}))}}class d extends t.Plugin{static get requires(){return[e.WidgetToolbarRepository]}static get pluginName(){return"BootstrapBoxyToolbar"}init(){const{editor:e}=this,o=e.config.get("bootstrapBoxy");if(!o)return;const{dialogURL:r,openDialog:n,dialogSettings:s={}}=o;r&&"function"==typeof n&&e.ui.componentFactory.add("bootstrapBoxyEdit",(o=>{const n=new l.ButtonView(o);return n.set({label:e.t("Edit Boxy"),icon:t.icons.pencil,tooltip:!0,withText:!0}),this.listenTo(n,"execute",(()=>{let t={};const{selection:o}=e.editing.view.document,n=i(o);n&&(t=function(t){const e={},o=t.getChild(0);return e.wrapperStyleId=o.getAttribute("data-wrapper-style-id"),e.containerClass=o.getAttribute("data-container-class"),e.containerStyleId=o.getAttribute("data-container-style-id"),e}(n),t.saved=1),this._openDialog(r,t,(({settings:t})=>{e.execute("insertBootstrapBoxy",t),e.editing.view.focus()}),s)})),n}))}afterInit(){const{editor:t}=this;t.plugins.get("WidgetToolbarRepository").register("bootstrapBoxy",{items:["bootstrapBoxyEdit"],getRelatedElement:t=>i(t)})}_openDialog(t,e,o,r){const n=r.dialogClass?r.dialogClass.split(" "):[];n.push("ui-dialog--narrow"),r.dialogClass=n.join(" "),r.autoResize=window.matchMedia("(min-width: 600px)").matches,r.width="auto";Drupal.ajax({dialog:r,dialogType:"modal",selector:".ckeditor5-dialog-loading-link",url:t,progress:{type:"fullscreen"},submit:{editor_object:e}}).execute(),Drupal.ckeditor5.saveCallback=o}}class p extends t.Plugin{static get requires(){return[a,c,d]}static get pluginName(){return"BootstrapBoxy"}}const u={BootstrapBoxy:p}})(),r=r.default})()));